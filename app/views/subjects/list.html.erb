<% @page_title="Subjects List" %>
<%= link_to("<< Back to Menu", {:controller => 'access', :action=> 'menu'}, :class => 'back-link') %>
<div class="subject list">
  <h2>Subjects</h2>

 <%= link_to("Add New Subject", {:action=>'new'}, :class=>'button') %>
  <br /> <br />

  <table class="listing" summary="Subject list">
    <thead>
    <tr class="header">
      <th>Position</th>
      <th>Subject</th>
      <th>Visibility</th>
      <th>Pages</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <% @subjects.each do |subject| %>
        <tr class="<%= cycle('odd', 'even') %>">
          <td><%= subject.position %></td>
          <td><%= subject.name %></td>
          <td class="center"><%= status_tag(subject.visible) %></td>
          <td class="center"><%= subject.pages.size %></td>
          <td class="actions">
            <%= link_to("View Pages", {:controller =>'pages', :action => 'list',:subject_id => subject.id}, :class => 'button') %>

            <%= link_to("Show", {:action=>'show', :id=>subject.id}, :class=>'button') %>
            <%= link_to("Edit", {:action=>'edit', :id=>subject.id}, :class=> 'button') %>
            <%= link_to("Delete", {:action=>'delete', :id=>subject.id}, :class=> 'button') %>
          </td>
        </tr>
    <% end %>
    </tbody>
  </table>
   <div class="pluralizenote"><%= pluralize(@subjects.size, 'subject') %> found</div>
</div>